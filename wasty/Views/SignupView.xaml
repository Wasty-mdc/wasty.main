<?xml version="1.0" encoding="utf-8"?>
<!-- Vista de registro de usuario para Wasty, definida en XAML.
     Contiene campos de entrada para nombre, usuario, correo y contrasenas, con botones para crear una cuenta o volver al inicio de sesion.
     Usa estilos reutilizables para una interfaz consistente. 
  -->

<UserControl    
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes" 
    xmlns:vm="clr-namespace:wasty.ViewModels"
    x:Class="wasty.Views.SignupView"
    mc:Ignorable="d"
    Height="Auto"
    Width="Auto"
    Background="Transparent">

    <Grid>
        <Border CornerRadius="15" Background="Transparent" Padding="20" Width="460" Height="680"
            HorizontalAlignment="Center" VerticalAlignment="Center">

            <StackPanel VerticalAlignment="Center">
                <!-- Titulo -->
                <TextBlock Text="Crear Cuenta" FontSize="22" FontWeight="Bold" 
                       Foreground="{DynamicResource Neutral200}"
                       HorizontalAlignment="Center" Margin="0,0,0,20"/>

                <!-- Campo Nombre  -->
                <Border Style="{StaticResource RegisterTextBoxBorder}">
                    <DockPanel>
                        <md:PackIcon Kind="Account" Width="24" Height="24" 
                                 Foreground="{StaticResource PrimaryText}" 
                                 Margin="5,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                        <TextBox x:Name="SignupNameTextBox" Style="{StaticResource RegisterTextBox}"
                             md:HintAssist.Hint="Nombre" Text="{Binding Nombre, UpdateSourceTrigger=PropertyChanged}"/>
                    </DockPanel>
                </Border>

                <!-- Campo Usuario con Icono -->
                <Border Style="{StaticResource RegisterTextBoxBorder}">
                    <DockPanel>
                        <md:PackIcon Kind="AccountCircle" Width="24" Height="24" 
                                 Foreground="{StaticResource PrimaryText}" 
                                 Margin="5,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                        <TextBox x:Name="SignupUSerTextBox" Style="{StaticResource RegisterTextBox}"
                             md:HintAssist.Hint="Usuario" Text="{Binding Usuario, UpdateSourceTrigger=PropertyChanged}"/>
                    </DockPanel>
                </Border>

                <!-- Campo Correo Electronico con Icono -->
                <Border Style="{StaticResource RegisterTextBoxBorder}">
                    <DockPanel>
                        <md:PackIcon Kind="Email" Width="24" Height="24" 
                                 Foreground="{StaticResource PrimaryText}" 
                                 Margin="5,0" VerticalAlignment="Center"/>
                        <TextBox x:Name="SignupEmailTextBox" Style="{StaticResource RegisterTextBox}"
                                 md:HintAssist.Hint="Correo Electronico" Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"/>
                    </DockPanel>
                </Border>

                <!-- Campo Contrasena con Icono -->
                <Border Style="{StaticResource RegisterPasswordBoxBorder}">
                    <DockPanel>
                        <md:PackIcon Kind="PasswordAdd" Width="24" Height="24" 
                                 Foreground="{StaticResource PrimaryText}" 
                                 Margin="5,0" VerticalAlignment="Center"/>
                        <PasswordBox x:Name="SignupPasswordBox" Style="{StaticResource RegisterPasswordBox}"
                                 md:HintAssist.Hint="Contrasena"
                                 PasswordChanged="PasswordBox_PasswordChanged"/>
                    </DockPanel>
                </Border>

                <!-- Campo Confirmar Contrasena con Icono -->
                <Border Style="{StaticResource RegisterPasswordBoxBorder}">
                    <DockPanel>
                        <md:PackIcon Kind="PasswordCheck" Width="24" Height="24" 
                                 Foreground="{StaticResource PrimaryText}" 
                                 Margin="5,0" VerticalAlignment="Center"/>
                        <PasswordBox x:Name="SignupConfirmPasswordBox" Style="{StaticResource RegisterPasswordBox}"
                                 md:HintAssist.Hint="Confirmar Contrasena"
                                 PasswordChanged="PasswordBox_ConfirmPasswordChanged"/>
                    </DockPanel>
                </Border>

                <!-- Boton Registrarse -->
                <Button x:Name="SignupButton" Content="Registrarse"
                        Style="{StaticResource RegisterButton}" 
                        Command="{Binding CrearUsuarioCommand}" />

                <!-- Boton Volver a Iniciar Sesion -->
                <Button x:Name="BackToLoginButton" Content="Volver a Iniciar Sesion"
                        Style="{StaticResource RegisterButton}" 
                        Height="30" Width="150" HorizontalAlignment="Right" FontSize="14" Cursor="Hand"
                        Command="{Binding LoginCommand}" />
            </StackPanel>
        </Border>
    </Grid>
</UserControl>